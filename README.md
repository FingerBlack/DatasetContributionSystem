# DatasetContributionSystem

#### 任务目标

* 数据集的管理：类别，规模，评价
* 用户的管理：注册，会员，权限
* 用户上传与下载数据集
* 用户发布与接收任务
* 用户对数据集质量的评价
* 数据集报错与修改

#### ToDo-List

* 写文档，完善网页功能

#### Discussion

* 可以考虑限制只能做图像数据集，不然上传格式会很乱 
* 同意，目前可只支持分类和目标定位任务，即一幅图像只有1或5个标注：类别[必有，int]，(xmin，ymin，xmax，ymax)[可选，float]

#### 框架

* 后端框架：Django 2.2.6
* 前端框架：Bootstrap

#### 文件结构

（先完成网页功能设计）

#### 网页功能

* `/` 

  首页

  包含登陆/注册按钮，在左侧展现最新数据集列表，右侧显示目前的任务

  Top List：按评价推荐数据集，按赏金推荐任务(可选)

* `/login/`

  用户登录

  参数：`username`：用户名，`password`：密码

  用户登陆界面有用户名、密码和验证码输入框，用户输入之后，先将用户输入的验证码与验证码的真值比较，如果相同就将用户名和密码加密后传到后台进行验证，如果验证通过则用户完成登陆。

  ~~验证码先搁一搁~~ ~~验证码应该可以直接调什么库之类的 实在不行搞几十张验证码放在后台~~

* `/signup/`

  用户注册

  参数：用户名`username`密码`password`邮箱`email`等基本信息。

  发送验证邮件，包括邮件验证码，输入验证码以后才可以注册。

  返回注册成功/注册失败页面

* `/profile/`

  个人信息

  显示用户个人信息，包括密码修改，资料编辑等。

* `/logout/`

  登出

  登出后清除cookies，设置用户状态为未登陆

* `/resetPassword/`

  密码重置(找回)

  邮箱验证，或者输入老密码

  ~~？邮箱验证咋做~~

* `/query/(dataset/task)/`

  查询数据集/任务

  * `/query/dataset/`

    参数包括：`size`数据集尺寸范围，`name`数据集名称，`type`数据集类别(分类，定位，分割)等

    显示数据集搜索结果

  * `/query/task/`

    参数包括：`name`任务名称，`time`发布日期，`type`任务类别等

    显示任务搜索结果

* `/dataset/(string:datasetname)/`

  数据集展示

  展示名称为datasetname的数据集，显示基本预览信息，包括数据集大小，数量，价格等

  如果datasetname留空，则显示平台全部数据集

* `/upload/`

  上传数据

  单张图像及对应标注，上传必须为zip，包括每张图片和对应xml

* `/download/`

  下载数据集

  将选定的数据集打包下载，`name`：数据集名称，`filename`：下载文件名称

  若filename留空，则全部下载，**注意下载间隔限制**

  以zip压缩将下载文件打包后回传，包含图片和xml

* `/postTask/`

  发布任务

  参数：名称，类别，要求，报酬等

* `/task/(int:taskid)/`

  查看任务

  如果taskid留空，则显示所有任务，否则显示任务基本信息

* `/reportError/`

  报错页面

* `/Error/(int:id)/`

  查看数据集错误

